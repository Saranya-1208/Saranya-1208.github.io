<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Saranya Anand | Portfolio</title>
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Garamond', Georgia, serif;
      line-height: 1.7;
      color: #2c2c2c;
      background: #fafafa;
    }
    
    header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      text-align: center;
      padding: 4rem 2rem;
    }
    
    header h1 {
      font-size: 3rem;
      font-weight: 500;
      margin-bottom: 0.5rem;
      letter-spacing: 1px;
    }
    
    header p {
      font-size: 1.3rem;
      opacity: 0.95;
      margin-bottom: 1.5rem;
    }
    
    header nav {
      margin-top: 1.5rem;
    }
    
    header nav a {
      color: white;
      margin: 0 1rem;
      font-size: 1.1rem;
      text-decoration: none;
      border-bottom: 2px solid transparent;
      transition: border-bottom 0.3s;
    }
    
    header nav a:hover {
      border-bottom: 2px solid white;
    }
    
    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 3rem 2rem;
    }
    
    .cc-section {
      background: white;
      margin-bottom: 4rem;
      padding: 2.5rem;
      border-radius: 8px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.08);
    }
    
    .cc-section h2 {
      font-size: 1.8rem;
      color: #667eea;
      margin-bottom: 0.5rem;
      font-weight: 500;
    }
    
    .cc-section h3 {
      font-size: 1.4rem;
      color: #333;
      margin: 2rem 0 1rem;
      font-weight: 500;
    }
    
    .cc-section p {
      font-size: 1.1rem;
      color: #555;
      margin-bottom: 1.5rem;
      line-height: 1.8;
    }
    
    .chart-wrapper {
      margin: 2rem 0;
      text-align: center;
    }
    
    .commentary {
      background: #f8f9fa;
      border-left: 4px solid #667eea;
      padding: 1rem 1.5rem;
      margin: 1.5rem 0;
      font-size: 1rem;
      color: #444;
      font-style: italic;
    }
    
    .colab-link {
      display: inline-block;
      margin-top: 1rem;
      color: #667eea;
      font-weight: 600;
      text-decoration: none;
      border-bottom: 2px solid #667eea;
    }
    
    .colab-link:hover {
      color: #764ba2;
      border-bottom-color: #764ba2;
    }
    
    footer {
      text-align: center;
      padding: 3rem 2rem;
      background: #f5f5f5;
      margin-top: 4rem;
      color: #666;
    }
    
    footer a {
      color: #667eea;
      text-decoration: none;
      border-bottom: 1px solid #667eea;
    }
  </style>
</head>
<body>
  
  <header>
    <h1>SARANYA ANAND</h1>
    <p>Data Visualization Portfolio | LSE MPA 2027</p>
    <nav>
      <a href="index.html">Portfolio</a>
      <a href="project/index.html">ðŸ“Š Digital India Project</a>
    </nav>
  </header>
  
  <div class="container">
    
    <!-- CC1: HOSTING -->
    <div class="cc-section" id="cc1">
      <h2>CC1: Hosting - Display Charts on GitHub Pages</h2>
      <p>Set up GitHub account and live page. Embed two charts using vegaEmbed function.</p>
      
      <h3>Chart 1: UK Unemployment Trends (1975-2024)</h3>
      <p>Long-term unemployment trends in the UK, showing cyclical patterns corresponding to economic recessions.</p>
      <div class="chart-wrapper">
        <div id="chart1"></div>
      </div>
      
      <h3>Chart 2: Export of Trade Goods in India by Region</h3>
      <p>Distribution of India's trade exports across regions and business sectors.</p>
      <div class="chart-wrapper">
        <div id="chart2"></div>
      </div>
    </div>
    
    <!-- CC2: BUILDING -->
    <div class="cc-section" id="cc2">
      <h2>CC2: Building - Create Custom Visualizations</h2>
      <p>Two charts built using the Economics Observatory data creation tools.</p>
      
      <h3>Chart 1: UK Gross Capital Formation</h3>
      <p>Quarterly percentage changes in UK investment from 2005-2016.</p>
      <div class="chart-wrapper">
        <div id="chart3"></div>
      </div>
      
      <h3>Chart 2: US Stock Market P/E Ratio</h3>
      <p>Monthly P/E ratio trends from 2020-2024, showing market valuation cycles.</p>
      <div class="chart-wrapper">
        <div id="chart4"></div>
      </div>
    </div>
    
    <!-- CC3: DEBATE -->
    <div class="cc-section" id="cc3">
      <h2>CC3: Debate - Policy Commentary with Visualization</h2>
      <p><strong>Policy Topic:</strong> India's 2019 constitutional amendment requiring one-third of parliamentary seats for women has dramatically increased female political representation.</p>
      
      <h3>Chart: Women in Parliament, India (2000-2024)</h3>
      <div class="chart-wrapper">
        <div id="chart5"></div>
      </div>
      
      <div class="commentary">
        <strong>Commentary:</strong> The sharp increase post-2019 demonstrates how legislative quotas can rapidly transform political gender balance when backed by constitutional mandate.
      </div>
    </div>
    
    <!-- CC5: API & SCRAPER -->
    <div class="cc-section" id="cc5">
      <h2>CC5: Accessing Data - API & Web Scraper</h2>
      
      <h3>API Task: 5G Infrastructure Coverage</h3>
      <p><strong>API Description:</strong> India's Open Government Data Platform provides authenticated API access to infrastructure datasets. Base URL: <code>https://data.gov.in/api/</code>. Full endpoint used: <code>https://data.gov.in/resource/5g-village-coverage</code> with API key authentication.</p>
      
      <div class="chart-wrapper">
        <div id="map5g"></div>
      </div>
      
      <div class="commentary">
        <strong>Commentary:</strong> Accessed 5G village coverage data via authenticated government API, requiring token management and JSON parsing across 28 states.
      </div>
      
      <a href="https://colab.research.google.com/drive/1QtUWVis71ktzU9Q0QunUYPdOelLgGbOm?usp=sharing" target="_blank" class="colab-link">View API Workflow Notebook â†’</a>
      
      <h3>Scraper Task: McKinsey PDF Extraction</h3>
      <p>Scraped data from McKinsey & Company PDF report on digital adoption across 17 major economies.</p>
      
      <div class="chart-wrapper">
        <div id="mckinseyChart"></div>
      </div>
      
      <div class="commentary">
        <strong>Commentary:</strong> Used Python PDF parsing to extract tabular data from page 13, handling inconsistent formatting and converting growth percentages to structured CSV.
      </div>
      
      <a href="https://colab.research.google.com/drive/1gATdy9GXodFZ3frY4EcZPblWWhY8wjjd?usp=sharing" target="_blank" class="colab-link">View Scraper Workflow Notebook â†’</a>
    </div>

    <!-- CC6: DASHBOARD -->
<div class="cc-section" id="cc6">
  <h2>CC6: Dashboard - Batch Download Using Loops</h2>
  <p>Used Python loop to batch download 6 countries' internet penetration data from World Bank API. Charts display as a grid, embedded using JavaScript loop.</p>
  
  <h3>Global Internet Penetration Dashboard (2010-2024)</h3>
  
  <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; margin-top: 2rem;">
    <div id="dash_India"></div>
    <div id="dash_China"></div>
    <div id="dash_USA"></div>
    <div id="dash_Brazil"></div>
    <div id="dash_Indonesia"></div>
    <div id="dash_South_Africa"></div>
  </div>
  
  <a href="https://colab.research.google.com/drive/13PjXGgk2bv2u-ziZh_pZjWhRcfhLv0g9?usp=sharing" target="_blank" class="colab-link">View Batch Download Notebook â†’</a>
</div>
    
    <!-- CC9: INTERACTIVE -->
    <div class="cc-section" id="cc9">
      <h2>CC9: Interactive Charts</h2>
      <p>Two charts with advanced interactivity beyond simple tooltips.</p>
      
      <h3>Interactive 1: Global Internet Comparison (Click & Hover)</h3>
      <p>Click any country to isolate it; hover to highlight. Interactive legend with opacity control.</p>
      <div class="chart-wrapper">
        <div id="heroChart"></div>
      </div>
      
      <h3>Interactive 2: UPI Per Capita Map (Dropdown Selection)</h3>
      <p>Dropdown menu allows switching between three metrics: per capita transactions, total volume, and population.</p>
      <div class="chart-wrapper">
        <div id="upiMap"></div>
      </div>
    </div>

    <div class="cc-section" id="cc4">
  <h2>CC4: Replication - Recreate & Improve Chart</h2>
  
  <h3>Original Chart (Financial Times)</h3>
  <img src="ft_ipo_original.png" alt="FT IPO Chart" style="max-width: 100%; border: 1px solid #ddd; border-radius: 4px; margin: 1rem 0;">
  <p><em>Source: Financial Times, "Oh, to IPO" - Global IPO fundraising trends</em></p>
  
  <h3>My Replication</h3>
  <p>Replicated FT's stacked bar chart showing IPO funds raised across major markets. Matched their color scheme and styling.</p>
  <div class="chart-wrapper">
    <div id="replicationChart"></div>
  </div>
  
  <h3>My Improvement</h3>
  <div class="chart-wrapper">
    <div id="improvedChart"></div>
  </div>
  
  <div class="commentary">
    <strong>Improvements made:</strong> Added interactive legend (click to isolate regions), used playful pastels instead of FT pink, added rounded corners, clearer axis labels, Garamond font for elegance.
  </div>
</div>
    
    <!-- CC10: ADVANCED & ML -->
    <div class="cc-section" id="cc10">
      <h2>CC10: Advanced Analytics & Machine Learning</h2>
      
      <h3>Part 1: Advanced Analytics - Transaction Timing Heatmap</h3>
      <p><strong>Hypothesis:</strong> UPI transaction patterns reveal concentrated usage during specific hours, indicating integration into daily routines rather than occasional use.</p>
      
      <div class="chart-wrapper">
        <div id="heatmapChart"></div>
      </div>
      
      <div class="commentary">
        <strong>Findings:</strong> Weekday lunch and evening hours show distinct peaks, confirming UPI has become embedded in daily payment behavior, not just emergency cash substitute.
      </div>
      
      <a href="https://colab.research.google.com/drive/1Q44vOtYM3mhGSNu7MAh7m4ABtdJ38EKI?usp=sharing" target="_blank" class="colab-link">View Analysis Notebook â†’</a>
      
      <h3>Part 2: Machine Learning - UPI Growth Forecasting</h3>
      <p><strong>Hypothesis:</strong> UPI transaction growth follows exponential trajectory, allowing reliable prediction of 2026 volumes using log-linear regression on historical data.</p>
      
      <div class="chart-wrapper">
        <div id="forecastChart"></div>
      </div>
      
      <div class="commentary">
        <strong>Findings:</strong> Model predicts 20B+ monthly transactions by 2026. Growth rate slowing indicates market saturation approaching, transition from exponential to linear growth phase.
      </div>
      
      <a href="https://colab.research.google.com/drive/1Xq7Skj4NDEpDbI4DQfJdTikyRcti-Rmo?usp=sharing" target="_blank" class="colab-link">View ML Methodology Notebook â†’</a>
    </div>
    
  </div>
  
  <footer>
    <p><strong>Saranya Anand</strong> | LSE MPA 2027</p>
    <p>PP434 Data Visualization | Autumn 2025</p>
    <p><a href="project/index.html">View Digital India Project â†’</a></p>
  </footer>
  
  <script>
    // CC1 - Chart 1
    vegaEmbed('#chart1', {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "title": "UK Unemployment Rate (Aged Over 16)",
      "width": 700,
      "height": 350,
      "data": {
        "url": "https://raw.githubusercontent.com/Saranya-1208/Saranya-1208.github.io/refs/heads/main/series-051125.csv"
      },
      "mark": {"type": "line", "strokeWidth": 2.5, "color": "#667eea"},
      "encoding": {
        "x": {"field": "Year", "type": "temporal", "title": "Year"},
        "y": {"field": "Value", "type": "quantitative", "title": "Unemployment Rate (%)"},
        "tooltip": [
          {"field": "Year", "type": "temporal", "format": "%Y"},
          {"field": "Value", "type": "quantitative", "format": ".1f", "title": "Rate (%)"}
        ]
      },
      "config": {"font": "Garamond"}
    });
    
    // CC1 - Chart 2
    vegaEmbed('#chart2', {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "title": "Export of Trade Goods in India by Region",
      "width": 700,
      "height": 350,
      "data": {
        "url": "https://raw.githubusercontent.com/Saranya-1208/Saranya-1208.github.io/refs/heads/main/data.csv"
      },
      "mark": "bar",
      "encoding": {
        "x": {
          "field": "Region",
          "type": "nominal",
          "title": "Region",
          "axis": {"labelAngle": -45}
        },
        "y": {
          "field": "Value",
          "type": "quantitative",
          "title": "Distribution (%)"
        },
        "color": {
          "field": "Name",
          "type": "nominal",
          "title": "Business Sector",
          "scale": {"range": ["#667eea", "#FF85A2", "#74B3CE", "#FFB6B9"]}
        },
        "tooltip": [
          {"field": "Region"},
          {"field": "Name", "title": "Sector"},
          {"field": "Value", "format": ".1f", "title": "Distribution (%)"}
        ]
      },
      "config": {"font": "Garamond"}
    });
    
    // CC2 - Chart 1
    vegaEmbed('#chart3', {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "title": "UK Gross Capital Formation (% Change)",
      "width": 700,
      "height": 350,
      "data": {
        "url": "https://raw.githubusercontent.com/Saranya-1208/Saranya-1208.github.io/refs/heads/main/Gross%20Capital%20Formation.csv"
      },
      "mark": {"type": "line", "point": true, "strokeWidth": 2.5, "color": "#FF85A2"},
      "encoding": {
        "x": {
          "field": "Date",
          "type": "temporal",
          "title": "Year",
          "axis": {"format": "%Y"}
        },
        "y": {
          "field": "Value",
          "type": "quantitative",
          "title": "% Change"
        },
        "tooltip": [
          {"field": "Date", "type": "temporal", "format": "%Y-%m"},
          {"field": "Value", "type": "quantitative", "format": ".2f", "title": "% Change"}
        ]
      },
      "config": {"font": "Garamond"}
    });
    
    // CC2 - Chart 2
    vegaEmbed('#chart4', {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "title": "US Stock Market P/E Ratio Over Time",
      "width": 700,
      "height": 350,
      "data": {
        "values": [
          {"Date": "2020-01-31", "PE_Ratio": 25.3}, {"Date": "2020-04-30", "PE_Ratio": 27.5},
          {"Date": "2020-07-31", "PE_Ratio": 29.5}, {"Date": "2020-10-31", "PE_Ratio": 32.5},
          {"Date": "2021-01-31", "PE_Ratio": 30.5}, {"Date": "2021-04-30", "PE_Ratio": 27.3},
          {"Date": "2021-07-31", "PE_Ratio": 27.2}, {"Date": "2021-10-31", "PE_Ratio": 31.1},
          {"Date": "2022-01-31", "PE_Ratio": 34.2}, {"Date": "2022-04-30", "PE_Ratio": 31.9},
          {"Date": "2022-07-31", "PE_Ratio": 28.2}, {"Date": "2022-10-31", "PE_Ratio": 30.2},
          {"Date": "2023-01-31", "PE_Ratio": 34.1}, {"Date": "2023-04-30", "PE_Ratio": 35.8},
          {"Date": "2023-07-31", "PE_Ratio": 32.5}, {"Date": "2023-10-31", "PE_Ratio": 29.2},
          {"Date": "2024-01-31", "PE_Ratio": 30.8}, {"Date": "2024-02-29", "PE_Ratio": 32.1}
        ]
      },
      "mark": {"type": "line", "point": true, "strokeWidth": 2.5, "color": "#74B3CE"},
      "encoding": {
        "x": {"field": "Date", "type": "temporal", "title": "Date"},
        "y": {"field": "PE_Ratio", "type": "quantitative", "title": "P/E Ratio"},
        "tooltip": [
          {"field": "Date", "type": "temporal", "format": "%B %Y"},
          {"field": "PE_Ratio", "type": "quantitative", "title": "P/E Ratio"}
        ]
      },
      "config": {"font": "Garamond"}
    });
    
    // CC3 - Chart
    vegaEmbed('#chart5', {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "title": "Women in Parliament, India (% of Seats)",
      "width": 700,
      "height": 350,
      "data": {
        "url": "https://raw.githubusercontent.com/Saranya-1208/Saranya-1208.github.io/refs/heads/main/Women%20in%20Parliament%20India.csv"
      },
      "mark": {"type": "line", "point": true, "strokeWidth": 2.5, "color": "#B4A7D6"},
      "encoding": {
        "x": {
          "field": "Year",
          "type": "temporal",
          "title": "Year",
          "axis": {"format": "%Y"}
        },
        "y": {
          "field": "Value",
          "type": "quantitative",
          "title": "% of Parliamentary Seats"
        },
        "tooltip": [
          {"field": "Year", "type": "temporal", "format": "%Y"},
          {"field": "Value", "type": "quantitative", "format": ".1f", "title": "% of Seats"}
        ]
      },
      "config": {"font": "Garamond"}
    });
    
    // CC5 - 5G Map
    vegaEmbed('#map5g', {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "title": "5G Infrastructure: Villages with Coverage (Feb 2025)",
      "width": 700,
      "height": 600,
      "data": {
        "url": "https://raw.githubusercontent.com/Subhash9325/GeoJson-Data-of-Indian-States/refs/heads/master/Indian_States",
        "format": {"type": "json", "property": "features"}
      },
      "transform": [{
        "lookup": "properties.NAME_1",
        "from": {
          "data": {"url": "https://raw.githubusercontent.com/Saranya-1208/Saranya-1208.github.io/refs/heads/main/project/5g_coverage_india.csv"},
          "key": "State",
          "fields": ["Villages_5G", "Districts_5G"]
        }
      }],
      "projection": {"type": "mercator"},
      "mark": {"type": "geoshape", "stroke": "white", "strokeWidth": 1.5},
      "encoding": {
        "color": {
          "field": "Villages_5G",
          "type": "quantitative",
          "scale": {"scheme": "purples", "type": "log"},
          "legend": {"title": "Villages with 5G", "format": ","}
        },
        "tooltip": [
          {"field": "properties.NAME_1", "title": "State"},
          {"field": "Villages_5G", "format": ",", "title": "Villages with 5G"}
        ]
      },
      "config": {"font": "Garamond"}
    });
    
    // CC5 - McKinsey Chart
    vegaEmbed('#mckinseyChart', {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "title": "Digital Adoption Growth Rate (2014-2017)",
      "width": 700,
      "height": 500,
      "data": {
        "url": "https://raw.githubusercontent.com/Saranya-1208/Saranya-1208.github.io/refs/heads/main/project/mckinsey_digital_adoption.csv"
      },
      "layer": [
        {
          "mark": {"type": "rule", "size": 3},
          "encoding": {
            "y": {"field": "Country", "type": "nominal", "sort": "-x", "title": null},
            "x": {"field": "Growth_2014_2017_%", "type": "quantitative", "title": "Growth Rate (%)"},
            "color": {
              "condition": {"test": "datum.Country == 'India'", "value": "#FF85A2"},
              "value": "#D0D0D0"
            }
          }
        },
        {
          "mark": {"type": "point", "filled": true},
          "encoding": {
            "y": {"field": "Country", "type": "nominal", "sort": "-x"},
            "x": {"field": "Growth_2014_2017_%", "type": "quantitative"},
            "size": {"condition": {"test": "datum.Country == 'India'", "value": 400}, "value": 200},
            "color": {"condition": {"test": "datum.Country == 'India'", "value": "#FF85A2"}, "value": "#B4A7D6"},
            "tooltip": [
              {"field": "Country"},
              {"field": "Growth_2014_2017_%", "title": "Growth Rate (%)"}
            ]
          }
        }
      ],
      "config": {"font": "Garamond"}
    });

    
const countries = [
  {name: "India", color: "#FF85A2"},
  {name: "China", color: "#74B3CE"},
  {name: "USA", color: "#B4A7D6"},
  {name: "Brazil", color: "#FFAAA5"},
  {name: "Indonesia", color: "#A8E6CF"},
  {name: "South_Africa", color: "#FFB6B9"}
];

// Loop through countries and embed charts
countries.forEach(country => {
  vegaEmbed(`#dash_${country.name}`, {
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title": {
      "text": country.name.replace("_", " "),
      "fontSize": 16,
      "font": "Garamond"
    },
    "width": 250,
    "height": 200,
    "data": {
      "url": `https://raw.githubusercontent.com/Saranya-1208/Saranya-1208.github.io/refs/heads/main/${country.name}_internet.json`
    },
    "mark": {
      "type": "line",
      "strokeWidth": 2.5,
      "point": true,
      "color": country.color
    },
    "encoding": {
      "x": {
        "field": "year",
        "type": "ordinal",
        "title": "Year",
        "axis": {"labelAngle": -45, "labelFontSize": 10}
      },
      "y": {
        "field": "value",
        "type": "quantitative",
        "title": "Internet Users (%)",
        "scale": {"domain": [0, 100]},
        "axis": {"labelFontSize": 10}
      },
      "tooltip": [
        {"field": "year", "title": "Year"},
        {"field": "value", "format": ".1f", "title": "Internet Users (%)"}
      ]
    },
    "config": {
      "font": "Garamond",
      "view": {"strokeWidth": 0}
    }
  }, {actions: false});
});

vegaEmbed('#improvedChart', {
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Global IPO Fundraising by Region (2018-2025)",
    "subtitle": "Initial Public Offerings raised, $bn | Interactive: Click regions to isolate",
    "fontSize": 20,
    "font": "Garamond"
  },
  "width": 600,
  "height": 400,
  "data": {
    "values": [
      {"year": "2018", "region": "New York", "value": 95},
      {"year": "2018", "region": "India", "value": 55},
      {"year": "2018", "region": "Hong Kong", "value": 35},
      {"year": "2018", "region": "China", "value": 12},
      {"year": "2018", "region": "Rest of World", "value": 103},
      
      {"year": "2019", "region": "New York", "value": 85},
      {"year": "2019", "region": "India", "value": 48},
      {"year": "2019", "region": "Hong Kong", "value": 30},
      {"year": "2019", "region": "China", "value": 15},
      {"year": "2019", "region": "Rest of World", "value": 97},
      
      {"year": "2020", "region": "New York", "value": 115},
      {"year": "2020", "region": "India", "value": 52},
      {"year": "2020", "region": "Hong Kong", "value": 25},
      {"year": "2020", "region": "China", "value": 55},
      {"year": "2020", "region": "Rest of World", "value": 123},
      
      {"year": "2021", "region": "New York", "value": 145},
      {"year": "2021", "region": "India", "value": 48},
      {"year": "2021", "region": "Hong Kong", "value": 22},
      {"year": "2021", "region": "China", "value": 75},
      {"year": "2021", "region": "Rest of World", "value": 190},
      
      {"year": "2022", "region": "New York", "value": 28},
      {"year": "2022", "region": "India", "value": 18},
      {"year": "2022", "region": "Hong Kong", "value": 8},
      {"year": "2022", "region": "China", "value": 75},
      {"year": "2022", "region": "Rest of World", "value": 48},
      
      {"year": "2023", "region": "New York", "value": 38},
      {"year": "2023", "region": "India", "value": 12},
      {"year": "2023", "region": "Hong Kong", "value": 8},
      {"year": "2023", "region": "China", "value": 52},
      {"year": "2023", "region": "Rest of World", "value": 55},
      
      {"year": "2024", "region": "New York", "value": 42},
      {"year": "2024", "region": "India", "value": 18},
      {"year": "2024", "region": "Hong Kong", "value": 10},
      {"year": "2024", "region": "China", "value": 28},
      {"year": "2024", "region": "Rest of World", "value": 72},
      
      {"year": "2025", "region": "New York", "value": 38},
      {"year": "2025", "region": "India", "value": 15},
      {"year": "2025", "region": "Hong Kong", "value": 8},
      {"year": "2025", "region": "China", "value": 25},
      {"year": "2025", "region": "Rest of World", "value": 68}
    ]
  },
  "params": [
    {
      "name": "regionSelect",
      "select": {"type": "point", "fields": ["region"]},
      "bind": "legend"
    }
  ],
  "mark": {"type": "bar", "cornerRadiusTopLeft": 3, "cornerRadiusTopRight": 3},
  "encoding": {
    "x": {
      "field": "year",
      "type": "ordinal",
      "title": "Year",
      "axis": {"labelAngle": 0, "labelFontSize": 12}
    },
    "y": {
      "field": "value",
      "type": "quantitative",
      "title": "IPO Funds Raised ($bn)",
      "stack": "zero",
      "axis": {"labelFontSize": 11}
    },
    "color": {
      "field": "region",
      "type": "nominal",
      "scale": {
        "domain": ["New York", "India", "Hong Kong", "China", "Rest of World"],
        "range": ["#667eea", "#FF85A2", "#74B3CE", "#B4A7D6", "#FFDAB9"]
      },
      "legend": {"title": "Region", "orient": "top", "labelFontSize": 12}
    },
    "opacity": {
      "condition": {"param": "regionSelect", "value": 1},
      "value": 0.2
    },
    "tooltip": [
      {"field": "year", "title": "Year"},
      {"field": "region", "title": "Region"},
      {"field": "value", "title": "Funds Raised ($bn)"}
    ]
  },
  "config": {
    "font": "Garamond",
    "view": {"strokeWidth": 0}
  }
});
    
    vegaEmbed('#heroChart', {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "title": "India's Digital Catch-Up: 2010-2024",
      "width": 700,
      "height": 400,
      "data": {
        "url": "https://raw.githubusercontent.com/Saranya-1208/Saranya-1208.github.io/refs/heads/main/project/net%20users%20%25%20global%202010%20-%202020.csv"
      },
      "params": [
        {"name": "hover", "select": {"type": "point", "fields": ["Country Name"], "on": "mouseover", "clear": "mouseout"}},
        {"name": "click", "select": {"type": "point", "fields": ["Country Name"]}}
      ],
      "mark": {"type": "line", "point": true, "strokeWidth": 3},
      "encoding": {
        "x": {"field": "Year", "type": "quantitative", "title": "Year"},
        "y": {"field": "Net Internet Users", "type": "quantitative", "title": "Internet Users (%)"},
        "color": {
          "field": "Country Name",
          "scale": {"range": ["#FF85A2", "#74B3CE", "#FFDAB9", "#B4A7D6", "#A8E6CF", "#FFB6B9", "#C7CEEA", "#E8DFF5"]},
          "legend": {"title": null}
        },
        "opacity": {"condition": [{"param": "click", "value": 1}, {"param": "hover", "value": 1}], "value": 0.2},
        "tooltip": [{"field": "Country Name"}, {"field": "Year"}, {"field": "Net Internet Users", "title": "Internet Users (%)"}]
      },
      "config": {"font": "Garamond"}
    });
    
    // CC9 - UPI Map
    vegaEmbed('#upiMap', {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "title": "UPI Divide: Interactive Metric Selection",
      "width": 600,
      "height": 550,
      "params": [{
        "name": "metric",
        "value": "Per_Capita_Monthly",
        "bind": {
          "input": "select",
          "options": ["Per_Capita_Monthly", "Volume_Mn", "Population_Mn"],
          "labels": ["Transactions Per Person", "Total Volume (M)", "Population (M)"],
          "name": "Select Metric: "
        }
      }],
      "data": {
        "url": "https://raw.githubusercontent.com/Subhash9325/GeoJson-Data-of-Indian-States/refs/heads/master/Indian_States",
        "format": {"type": "json", "property": "features"}
      },
      "transform": [
        {
          "lookup": "properties.NAME_1",
          "from": {
            "data": {"url": "https://raw.githubusercontent.com/Saranya-1208/Saranya-1208.github.io/refs/heads/main/project/Statewise_UPI%20transaction_per%20capita_Map.csv"},
            "key": "State",
            "fields": ["Per_Capita_Monthly", "Volume_Mn", "Population_Mn"]
          }
        },
        {"calculate": "metric == 'Per_Capita_Monthly' ? datum.Per_Capita_Monthly : metric == 'Volume_Mn' ? datum.Volume_Mn : datum.Population_Mn", "as": "SelectedValue"}
      ],
      "projection": {"type": "mercator"},
      "mark": {"type": "geoshape", "stroke": "white", "strokeWidth": 1.5},
      "encoding": {
        "color": {
          "field": "SelectedValue",
          "type": "quantitative",
          "scale": {"range": ["#A8E6CF", "#FFD3B6", "#FFAAA5", "#FF8B94"]},
          "legend": {"title": "Value", "format": ".1f"}
        },
        "tooltip": [
          {"field": "properties.NAME_1", "title": "State"},
          {"field": "Per_Capita_Monthly", "title": "Per Capita"},
          {"field": "Volume_Mn", "format": ".1f", "title": "Volume (M)"}
        ]
      },
      "config": {"font": "Garamond"}
    });
    
    // CC10 - Heatmap
    vegaEmbed('#heatmapChart', {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "title": "UPI Transaction Patterns: Hour Ã— Day (250K Transactions)",
      "width": 700,
      "height": 350,
      "data": {
        "url": "https://raw.githubusercontent.com/Saranya-1208/Saranya-1208.github.io/refs/heads/main/project/upi_time_heatmap.csv"
      },
      "mark": {"type": "rect", "strokeWidth": 1, "stroke": "white"},
      "encoding": {
        "x": {"field": "hour_of_day", "type": "ordinal", "title": "Hour of Day"},
        "y": {
          "field": "day_of_week",
          "type": "ordinal",
          "sort": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
          "title": null
        },
        "color": {
          "field": "Transaction_Count",
          "type": "quantitative",
          "scale": {"scheme": "redpurple"},
          "legend": {"title": "Transactions", "format": ","}
        },
        "tooltip": [
          {"field": "day_of_week", "title": "Day"},
          {"field": "hour_of_day", "title": "Hour"},
          {"field": "Transaction_Count", "format": ",", "title": "Transactions"}
        ]
      },
      "config": {"font": "Garamond"}
    });
    
    // CC10 - ML Forecast
    vegaEmbed('#forecastChart', {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "title": "UPI Forecast: Actual + ML Predictions (2016-2026)",
      "width": 700,
      "height": 400,
      "data": {
        "url": "https://raw.githubusercontent.com/Saranya-1208/Saranya-1208.github.io/refs/heads/main/project/upi_forecast.csv"
      },
      "transform": [{"calculate": "toDate(datum.Date)", "as": "ParsedDate"}],
      "mark": {"type": "line", "point": true, "strokeWidth": 3},
      "encoding": {
        "x": {"field": "ParsedDate", "type": "temporal", "title": "Year", "axis": {"format": "%Y"}},
        "y": {
          "field": "Volume_Mn",
          "type": "quantitative",
          "title": "Monthly Transactions (Millions)",
          "scale": {"type": "log"}
        },
        "color": {
          "field": "Type",
          "scale": {"domain": ["Actual", "Predicted"], "range": ["#FF85A2", "#B4A7D6"]},
          "legend": {"title": null}
        },
        "strokeDash": {"field": "Type", "scale": {"domain": ["Actual", "Predicted"], "range": [[1,0], [8,4]]}},
        "tooltip": [
          {"field": "ParsedDate", "type": "temporal", "format": "%B %Y"},
          {"field": "Volume_Mn", "format": ",.0f", "title": "Volume (M)"},
          {"field": "Type"}
        ]
      },
      "config": {"font": "Garamond"}
    });
  </script>
</body>
</html>
